(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a(417)},345:function(e,t,a){},348:function(e,t,a){},350:function(e,t,a){},387:function(e,t,a){},390:function(e,t,a){},392:function(e,t,a){},394:function(e,t,a){},396:function(e,t,a){},399:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(154),c=a(53),i=a.n(c),o=a(16),l=a.n(o),u={MAX_ATTACHMENT_SIZE:8e6,s3:{REGION:"us-east-2",BUCKET:"images-app-uploads"},apiGateway:{REGION:"us-east-2",URL:"https://6ykck904q9.execute-api.us-east-2.amazonaws.com/prod"},cognito:{REGION:"us-east-2",USER_POOL_ID:"us-east-2_9ACMAVoGN",APP_CLIENT_ID:"76seo2s9vm44vcabcal64ck4hb",IDENTITY_POOL_ID:"us-east-2:59931c3d-eb85-4bcb-87d0-8b7ec5b25f22"}},d=a(13),m=a.n(d),f=a(28),h=a(20),p=a(21),b=a(23),g=a(22),v=a(24),E=a(90),y=a(158),k=a(426),w=a(424),L=a(425),I=a(159),O=a(89),j=(a(345),a(97)),C=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).onMouseOver=function(){a.tween.play()},a.onMouseLeave=function(){a.tween.reverse()},a.tween=null,a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){j.b.set(this.backCard,{rotationY:-180}),this.tween=new j.a({paused:!0}),this.tween.to(this.frontCard,1,{rotationY:180}).to(this.backCard,1,{rotationY:0},0).to(this.element,.5,{z:50},0).to(this.element,.5,{z:0},.5),this.element.animation=this.tween}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.element=t},className:"cardCont",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseLeave},r.a.createElement("div",{className:"cardBack",ref:function(t){return e.frontCard=t},style:{background:"url(".concat(this.props.backImg,")")}}),r.a.createElement("div",{className:"cardFront",ref:function(t){return e.backCard=t},style:{background:"url(".concat(this.props.frontImg,")")}}))}}]),t}(n.Component),S=a(92),x=a.n(S),P=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={CardList:[{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5ba7e962e5e5f04d1851e321/5ba7e9869140b757637f109f/1537730963559/P9067919.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5ba7e962e5e5f04d1851e321/5ba7e9d1652deafcd6febd18/1537731038544/P9068156.jpg?format=750w"},{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5c23957db8a045098fa36833/5c23975040ec9a5686235530/1545836396098/P9117036.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5c23957db8a045098fa36833/5c23957dcd83660cb512c48f/1545835929485/P9116392.jpg?format=750w"},{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5ba06d094fa51aaabc960300/5ba06d18cd8366f6f569f1f6/1537240350975/P9127275.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5ba06d094fa51aaabc960300/5ba06d148a922d20cd8ceb31/1537240347654/P9127246.jpg?format=750w"},{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5aad23492b6a28af3e947864/5aad238088251b56303ab562/1521296271926/P2131096.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5aad23492b6a28af3e947864/5aad235f1ae6cf0c78a77286/1521296240209/P2130970.jpg?format=750w"},{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5accbbbe70a6adaedb90fca0/5accbbe7758d46742ab7c9b1/1523366897441/P2092246.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5accbbbe70a6adaedb90fca0/5accbc01575d1fd3939e400a/1523366923402/P2092407.jpg?format=750w"},{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5a8d990bec212d7be9feeff3/5a8d9970085229e655aac56f/1519229303437/P2139890.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5a8d990bec212d7be9feeff3/5a8d995d8165f569eeab5aa8/1519229284096/P2139757.jpg?format=750w"},{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5a9b39cc085229f6cafa4990/5a9b39d341920278294f0acf/1520122324176/shay-21.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/5a9b39cc085229f6cafa4990/5a9b39d0ec212db87d25def6/1520122322593/shay-14.jpg?format=750w"},{frontImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/59e92b67b7411c0d79350462/59e92b80914e6b03fd1b5e38/1508453435200/DSC_1933.jpg?format=750w",backImageURL:"https://static1.squarespace.com/static/56d0fd25356fb009213573d7/59e92b67b7411c0d79350462/59e92bb88c56a8a8e1aeae72/1508453473609/DSC_2049.jpg?format=750w"}]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.a.get("https://api.cloudinary.com/v1_1/dhaolytme/image/sprite").then(function(t){e.setState({CardList:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"mainWrap"},this.state.CardList.map(function(e,t){return r.a.createElement(C,{key:t,frontImg:e.frontImageURL,backImg:e.backImageURL})})))}}]),t}(r.a.Component),A=(a(348),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),N=a(42),R=a(420),U=a(421),T=a(427),D=a(69),_=a(419),F=a(386),M=(a(350),function(e){var t=e.isLoading,a=e.text,n=e.loadingText,s=e.className,c=void 0===s?"":s,i=e.disabled,o=void 0!==i&&i,l=Object(D.a)(e,["isLoading","text","loadingText","className","disabled"]);return r.a.createElement(_.a,Object.assign({className:"LoaderButton ".concat(c),disabled:o||t},l),t&&r.a.createElement(F.a,{glyph:"refresh",className:"spinning"}),t?n:a)}),q=(a(387),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(N.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,o.Auth.signIn(a.state.email,a.state.password);case 5:a.props.userHasAuthenticated(!0),a.props.history.push("/Dashboard"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message),a.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(R.a,{controlId:"email",bsSize:"large"},r.a.createElement(U.a,null,"Email"),r.a.createElement(T.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(R.a,{controlId:"password",bsSize:"large"},r.a.createElement(U.a,null,"Password"),r.a.createElement(T.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(M,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Login",loadingText:"Logging in\u2026"})))}}]),t}(n.Component)),z=function(e){var t=e.component,a=e.props,n=Object(D.a)(e,["component","props"]);return r.a.createElement(O.a,Object.assign({},n,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},H=a(422),G=a(428),B=(a(390),a(392),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).state={imageURL:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;o.Storage.get(this.props.fileName).then(function(t){e.setState({imageURL:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return""===this.state.imageURL?r.a.createElement("div",{className:"emptyImage"}):r.a.createElement("img",{className:"imageCard",alt:"card",src:this.state.imageURL})}}]),t}(n.Component)),Y=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).renderNotesList=function(e){return e.map(function(e){return r.a.createElement("div",{key:e.imageId},r.a.createElement(B,{fileName:e.attachment}),r.a.createElement("center",null,e.content))})},a.state={isLoading:!0,images:[]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.images();case 3:(t=e.sent).sort(function(e,t){return parseFloat(t.createdAt)-parseFloat(e.createdAt)}),this.setState({images:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:this.setState({isLoading:!1});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"images",value:function(){return o.API.get("images","/images")}},{key:"renderLander",value:function(){return r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Scratch"),r.a.createElement("p",null,"A simple note taking app"))}},{key:"renderNotes",value:function(){return r.a.createElement("div",{className:"images"},r.a.createElement(H.a,null,"Image Portal"),r.a.createElement(G.a,{className:"image-list-view"},!this.state.isLoading&&this.renderNotesList(this.state.images)))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ImagePortal"},this.renderNotes())}}]),t}(n.Component);a(394);function V(e){return X.apply(this,arguments)}function X(){return(X=Object(f.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Date.now(),"-").concat(t.name),e.next=3,o.Storage.put(a,t,{contentType:t.type});case 3:return n=e.sent,e.abrupt("return",n.key);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Z=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(N.a)({},e.target.id,e.target.value))},a.handleFileChange=function(e){a.file=e.target.files[0]},a.handleSubmit=function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.file&&a.file.size>u.MAX_ATTACHMENT_SIZE)){e.next=4;break}return alert("Please pick a file smaller than ".concat(u.MAX_ATTACHMENT_SIZE/1e6," MB.")),e.abrupt("return");case 4:if(a.setState({isLoading:!0}),e.prev=5,!a.file){e.next=12;break}return e.next=9,V(a.file);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:return n=e.t0,e.next=16,a.createImage({attachment:n,content:a.state.content});case 16:a.props.history.push("/ImagePortal"),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(5),alert(e.t1),a.setState({isLoading:!1});case 23:case"end":return e.stop()}},e,this,[[5,19]])}));return function(t){return e.apply(this,arguments)}}(),a.file=null,a.state={isLoading:null,content:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated||this.props.history.push("/")}},{key:"validateForm",value:function(){return this.state.content.length>0}},{key:"createImage",value:function(e){return o.API.post("images","/images",{body:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Dashboard"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(R.a,{controlId:"content"},r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content,componentClass:"textarea"})),r.a.createElement(R.a,{controlId:"file"},r.a.createElement(U.a,null,"Attachment"),r.a.createElement(T.a,{onChange:this.handleFileChange,type:"file"})),r.a.createElement(M,{block:!0,bsStyle:"primary",bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"UpLoad",loadingText:"Creating\u2026"})))}}]),t}(n.Component),J=a(423),K=(a(396),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(N.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,o.Auth.signUp({username:a.state.email,password:a.state.password});case 5:n=e.sent,a.setState({newUser:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message);case 12:a.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationSubmit=function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,o.Auth.confirmSignUp(a.state.email,a.state.confirmationCode);case 5:return e.next=7,o.Auth.signIn(a.state.email,a.state.password);case 7:a.props.userHasAuthenticated(!0),a.props.history.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),alert(e.t0.message),a.setState({isLoading:!1});case 15:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:"",confirmPassword:"",confirmationCode:"",newUser:null},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"validateConfirmationForm",value:function(){return this.state.confirmationCode.length>0}},{key:"renderConfirmationForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleConfirmationSubmit},r.a.createElement(R.a,{controlId:"confirmationCode",bsSize:"large"},r.a.createElement(U.a,null,"Confirmation Code"),r.a.createElement(T.a,{autoFocus:!0,type:"tel",value:this.state.confirmationCode,onChange:this.handleChange}),r.a.createElement(J.a,null,"Please check your email for the code.")),r.a.createElement(M,{block:!0,bsSize:"large",disabled:!this.validateConfirmationForm(),type:"submit",isLoading:this.state.isLoading,text:"Verify",loadingText:"Verifying\u2026"}))}},{key:"renderForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(R.a,{controlId:"email",bsSize:"large"},r.a.createElement(U.a,null,"Email"),r.a.createElement(T.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(R.a,{controlId:"password",bsSize:"large"},r.a.createElement(U.a,null,"Password"),r.a.createElement(T.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(R.a,{controlId:"confirmPassword",bsSize:"large"},r.a.createElement(U.a,null,"Confirm Password"),r.a.createElement(T.a,{value:this.state.confirmPassword,onChange:this.handleChange,type:"password"})),r.a.createElement(M,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Signup",loadingText:"Signing up\u2026"}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Signup"},null===this.state.newUser?this.renderForm():this.renderConfirmationForm())}}]),t}(n.Component)),W=function(e){var t=e.childProps;return r.a.createElement(I.a,null,r.a.createElement(z,{path:"/",exact:!0,component:P,props:t}),r.a.createElement(z,{path:"/ImagePortal",exact:!0,component:Y,props:t}),r.a.createElement(z,{path:"/login",exact:!0,component:q,props:t}),r.a.createElement(z,{path:"/Dashboard",exact:!0,component:Z,props:t}),r.a.createElement(z,{path:"/signup",exact:!0,component:K,props:t}),r.a.createElement(O.a,{component:A}))},Q=a(54),$=(a(399),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).userHasAuthenticated=function(e){a.setState({isAuthenticated:e})},a.handleLogout=function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Auth.signOut();case 2:a.userHasAuthenticated(!1),a.props.history.push("/ImagePortal");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={isAuthenticated:!1,isAuthenticating:!0},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Auth.currentSession();case 3:this.userHasAuthenticated(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:this.setState({isAuthenticating:!1});case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated};return!this.state.isAuthenticating&&r.a.createElement("div",{className:"App container-fluid"},r.a.createElement(k.a,null,r.a.createElement(k.a.Header,null,r.a.createElement(k.a.Brand,null,r.a.createElement(E.a,{to:"/"},"The RunwayShop")),r.a.createElement(k.a.Toggle,null)),r.a.createElement(k.a.Collapse,null,r.a.createElement(w.a,{pullRight:!0},r.a.createElement(Q.LinkContainer,{to:"/ImagePortal"},r.a.createElement(L.a,null,"Image Portal")),this.state.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement(Q.LinkContainer,{to:"/dashboard"},r.a.createElement(L.a,null,"Dashboard")),r.a.createElement(L.a,{onClick:this.handleLogout},"Logout")):r.a.createElement(n.Fragment,null,r.a.createElement(Q.LinkContainer,{to:"/signup"},r.a.createElement(L.a,null,"Signup")),r.a.createElement(Q.LinkContainer,{to:"/login"},r.a.createElement(L.a,null,"Login")))))),r.a.createElement(W,{childProps:e}))}}]),t}(n.Component)),ee=Object(y.a)($);l.a.configure({Auth:{mandatorySignIn:!1,region:u.cognito.REGION,userPoolId:u.cognito.USER_POOL_ID,identityPoolId:u.cognito.IDENTITY_POOL_ID,userPoolWebClientId:u.cognito.APP_CLIENT_ID},Storage:{region:u.s3.REGION,bucket:u.s3.BUCKET,identityPoolId:u.cognito.IDENTITY_POOL_ID},API:{endpoints:[{name:"images",endpoint:u.apiGateway.URL,region:u.apiGateway.REGION}]}}),i.a.render(r.a.createElement(s.a,null,r.a.createElement(ee,null)),document.getElementById("root"))},74:function(e,t){}},[[166,2,1]]]);
//# sourceMappingURL=main.4860a670.chunk.js.map